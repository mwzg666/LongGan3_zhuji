#include <msp430x552x.h>
#include "system.h"
#include "CommDataDefine.h"

#include "oled.h"
#include <stdio.h>
#include "system.h"
#include <string.h>
#include <stdlib.h>
#include "ds1337.h"
#include "flash.h"
#include "GT21L16S2W.h"
#include "hvadc.h"
#include "adc12.h"

extern unsigned char  DZ_Data[32];
extern DS1337_QTIME cuTime;
extern QPara Param;

__no_init unsigned char DispBuf[128][16] @0x3400;

// 显示一行字符缓存，去掉原来的局部变量
char StrTemp[24] = {0};    


INTERFACE currUI = LOGO;
char IsSuperUser = 0;     // 0 普通用户  1 超级用户
//unsigned int TIMERCOUNT = 0;
//unsigned int UMESSAGE = 0; // 1 计算CPS 2 操作声音 3 获取电压


const unsigned char  Ascii_3[4][8]={
    {0x00,0x68,0x90,0x90,0x90,0x90,0x68,0x00},     // (0) Alfa  
    {0x60,0x50,0x50,0x60,0x50,0x70,0x40,0x40},     // (1) Berta  
    {0x88,0x88,0x50,0x50,0x20,0x20,0x20,0x20},      // (2) Gamma
    {0x20,0x50,0x10,0x20,0x70,0x00,0x00,0x00},     // 平方
};


// 16*24 数字
const unsigned char  Ascii_4[10][48]={
   {0x00,0x00,0x07,0xC0,0x0C,0x60,0x18,0x30,0x30,0x18,0x30,0x18,0x30,0x08,0x60,0x0C,
	0x60,0x0C,0x60,0x0C,0x60,0x0C,0x60,0x0C,0x60,0x0C,0x60,0x0C,0x60,0x0C,0x60,0x0C,
	0x30,0x08,0x30,0x18,0x30,0x18,0x18,0x30,0x0C,0x60,0x07,0xC0,0x00,0x00,0x00,0x00},  // 0
   {0x00,0x00,0x00,0x80,0x01,0x80,0x1F,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,
	0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,
	0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x03,0xC0,0x1F,0xF8,0x00,0x00,0x00,0x00},  // 1 
   {0x00,0x00,0x07,0xE0,0x08,0x38,0x10,0x18,0x20,0x0C,0x20,0x0C,0x30,0x0C,0x30,0x0C,
	0x00,0x0C,0x00,0x18,0x00,0x10,0x00,0x20,0x00,0x40,0x00,0x80,0x01,0x00,0x02,0x00,
	0x04,0x04,0x08,0x04,0x10,0x04,0x20,0x0C,0x3F,0xF8,0x3F,0xF8,0x00,0x00,0x00,0x00},  // 2
   {0x00,0x00,0x07,0xC0,0x18,0x70,0x30,0x30,0x30,0x18,0x30,0x18,0x30,0x18,0x00,0x18,
	0x00,0x30,0x00,0x60,0x03,0xC0,0x00,0x70,0x00,0x18,0x00,0x08,0x00,0x0C,0x00,0x0C,
	0x30,0x0C,0x30,0x0C,0x30,0x08,0x30,0x18,0x18,0x30,0x07,0xC0,0x00,0x00,0x00,0x00},  // 3
   {0x00,0x00,0x00,0x30,0x00,0x70,0x00,0x70,0x00,0xF0,0x01,0x70,0x01,0x70,0x02,0x70,
	0x06,0x70,0x04,0x70,0x08,0x70,0x08,0x70,0x10,0x70,0x20,0x70,0x20,0x70,0x7F,0xFE,
	0x00,0x70,0x00,0x70,0x00,0x70,0x00,0x70,0x00,0x70,0x00,0x70,0x03,0xFE,0x00,0x00},  // 4
   {0x00,0x00,0x0F,0xFC,0x0F,0xFC,0x08,0x00,0x08,0x00,0x08,0x00,0x10,0x00,0x10,0x00,
	0x13,0xE0,0x14,0x30,0x18,0x18,0x10,0x08,0x00,0x0C,0x00,0x0C,0x00,0x0C,0x00,0x0C,
	0x30,0x0C,0x30,0x0C,0x20,0x18,0x20,0x18,0x10,0x30,0x0F,0xC0,0x00,0x00,0x00,0x00},  // 5
   {0x00,0x00,0x03,0xE0,0x06,0x10,0x08,0x18,0x10,0x18,0x30,0x00,0x30,0x00,0x20,0x00,
	0x60,0x00,0x63,0xE0,0x6C,0x30,0x78,0x18,0x70,0x0C,0x60,0x0C,0x60,0x0C,0x60,0x0C,
	0x60,0x0C,0x30,0x0C,0x30,0x08,0x18,0x18,0x0C,0x30,0x07,0xC0,0x00,0x00,0x00,0x00},  // 6
   {0x00,0x00,0x1F,0xFC,0x1F,0xFC,0x38,0x08,0x30,0x10,0x20,0x10,0x20,0x20,0x00,0x20,
	0x00,0x40,0x00,0x40,0x00,0x80,0x00,0x80,0x00,0x80,0x01,0x00,0x01,0x00,0x01,0x00,
	0x03,0x00,0x03,0x00,0x03,0x00,0x03,0x00,0x03,0x00,0x03,0x00,0x00,0x00,0x00,0x00},  // 7
   {0x00,0x00,0x07,0xE0,0x0C,0x30,0x18,0x18,0x30,0x0C,0x30,0x0C,0x30,0x0C,0x38,0x0C,
	0x1C,0x18,0x0E,0x10,0x07,0xE0,0x0D,0xE0,0x18,0x70,0x30,0x38,0x60,0x1C,0x60,0x0C,
	0x60,0x0C,0x60,0x0C,0x60,0x0C,0x30,0x18,0x18,0x30,0x07,0xC0,0x00,0x00,0x00,0x00},  // 8
   {0x00,0x00,0x07,0xC0,0x18,0x20,0x30,0x10,0x30,0x18,0x60,0x08,0x60,0x0C,0x60,0x0C,
	0x60,0x0C,0x60,0x0C,0x60,0x1C,0x30,0x3C,0x18,0x6C,0x0F,0x8C,0x00,0x0C,0x00,0x18,
	0x00,0x18,0x00,0x18,0x30,0x30,0x30,0x60,0x30,0xC0,0x0F,0x80,0x00,0x00,0x00,0x00}  // 9
};

#if 0
// 24*36的数字
const BYTE Num24x36[10][108] = 
{
    {   // 0
        0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x01,0xF7,0xC0,0x03,0xC3,0xE0,0x07,
        0x81,0xE0,0x0F,0x80,0xF0,0x0F,0x00,0xF0,0x1F,0x00,0xF8,0x1E,0x00,0x78,0x1E,0x00,
        0x7C,0x3E,0x00,0x7C,0x3E,0x00,0x7C,0x3E,0x00,0x7C,0x3E,0x00,0x3C,0x3C,0x00,0x3C,
        0x3C,0x00,0x3C,0x3C,0x00,0x3C,0x3C,0x00,0x3C,0x3C,0x00,0x3C,0x3C,0x00,0x3C,0x3E,
        0x00,0x7C,0x3E,0x00,0x7C,0x3E,0x00,0x7C,0x3E,0x00,0x7C,0x3E,0x00,0x7C,0x1E,0x00,
        0x78,0x1F,0x00,0xF8,0x0F,0x00,0xF0,0x0F,0x80,0xF0,0x07,0x81,0xE0,0x03,0xC3,0xC0,
        0x01,0xFF,0x80,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {   // 1
        0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x06,0x00,0x00,0x0E,0x00,0x00,0x7E,0x00,0x03,
        0xFE,0x00,0x00,0x3E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x1E,
        0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,
        0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,
        0x1E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x1E,
        0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x3F,0x00,
        0x00,0x7F,0x80,0x03,0xFF,0xF0,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {  // 2
        0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x80,0x03,0xEF,0xE0,0x07,0x81,0xF0,0x0F,
        0x00,0xF0,0x1E,0x00,0xF8,0x1E,0x00,0xF8,0x1E,0x00,0x78,0x1F,0x00,0x78,0x1F,0x00,
        0x78,0x1F,0x00,0xF8,0x1F,0x00,0xF8,0x00,0x00,0xF8,0x00,0x01,0xF0,0x00,0x01,0xF0,
        0x00,0x03,0xE0,0x00,0x03,0xC0,0x00,0x07,0x80,0x00,0x0F,0x00,0x00,0x1E,0x00,0x00,
        0x3C,0x00,0x00,0x78,0x00,0x00,0xF0,0x00,0x01,0xE0,0x00,0x03,0xC0,0x00,0x07,0x80,
        0x38,0x0F,0x00,0x38,0x0E,0x00,0x38,0x1E,0x00,0x78,0x3C,0x00,0xF8,0x3F,0xFF,0xF8,
        0x3F,0xFF,0xF8,0x3F,0xFF,0xF0,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {  // 3
        0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x80,0x03,0xE7,0xC0,0x07,0x81,0xE0,0x0F,
        0x81,0xF0,0x0F,0x80,0xF8,0x0F,0x80,0xF8,0x0F,0x80,0x78,0x0F,0x80,0x78,0x0F,0x80,
        0x78,0x00,0x00,0xF8,0x00,0x00,0xF8,0x00,0x00,0xF0,0x00,0x01,0xF0,0x00,0x03,0xE0,
        0x00,0x1F,0xC0,0x00,0x7F,0x00,0x00,0x1F,0xC0,0x00,0x01,0xF0,0x00,0x00,0xF8,0x00,
        0x00,0x78,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x3C,0x0F,0x00,0x3C,0x1F,0x00,
        0x3C,0x1F,0x00,0x7C,0x1F,0x00,0x7C,0x1F,0x00,0x78,0x1F,0x00,0xF8,0x0F,0x01,0xF0,
        0x07,0xEF,0xE0,0x01,0xFF,0x80,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {  // 4
        0x00,0x00,0x00,0x00,0x01,0xC0,0x00,0x03,0xE0,0x00,0x03,0xE0,0x00,0x07,0xE0,0x00,
        0x07,0xE0,0x00,0x0F,0xE0,0x00,0x1F,0xE0,0x00,0x1F,0xE0,0x00,0x3F,0xE0,0x00,0x7B,
        0xE0,0x00,0x73,0xE0,0x00,0xF3,0xE0,0x00,0xE3,0xE0,0x01,0xC3,0xE0,0x03,0xC3,0xE0,
        0x03,0x83,0xE0,0x07,0x83,0xE0,0x0F,0x03,0xE0,0x0E,0x03,0xE0,0x1E,0x03,0xE0,0x1C,
        0x03,0xE0,0x38,0x03,0xE0,0x7F,0xFF,0xFE,0x7F,0xFF,0xFE,0x00,0x03,0xE0,0x00,0x03,
        0xE0,0x00,0x03,0xE0,0x00,0x03,0xE0,0x00,0x03,0xE0,0x00,0x03,0xE0,0x00,0x03,0xE0,
        0x00,0x07,0xF0,0x00,0x3F,0xFC,0x00,0x3F,0xFC,0x00,0x00,0x00
    },

    {  // 5
        0x00,0x00,0x00,0x00,0x00,0x00,0x07,0xFF,0xF8,0x07,0xFF,0xF8,0x0F,0xFF,0xF8,0x0E,
        0x00,0x00,0x0E,0x00,0x00,0x0E,0x00,0x00,0x0E,0x00,0x00,0x0E,0x00,0x00,0x0E,0x00,
        0x00,0x0E,0x00,0x00,0x0E,0x00,0x00,0x0E,0xFF,0xC0,0x0F,0xFF,0xE0,0x0F,0xF7,0xF0,
        0x0F,0x81,0xF8,0x0F,0x00,0xF8,0x0E,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,
        0x00,0x7C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x1F,0x00,0x3C,0x1F,0x00,0x3C,0x1F,0x00,
        0x7C,0x1F,0x00,0x7C,0x1F,0x00,0x78,0x1E,0x00,0x78,0x0E,0x00,0xF0,0x07,0x01,0xF0,
        0x03,0xE7,0xE0,0x01,0xFF,0x80,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {  // 6
        0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0xC0,0x01,0xF3,0xE0,0x03,0xC1,0xF0,0x07,
        0x81,0xF0,0x07,0x01,0xF0,0x0F,0x01,0xF0,0x0E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,
        0x00,0x3E,0x00,0x00,0x3E,0x00,0x00,0x3E,0x00,0x00,0x3E,0x7F,0xC0,0x3D,0xFF,0xE0,
        0x3F,0xF7,0xF0,0x3F,0xC1,0xF8,0x3F,0x00,0xF8,0x3F,0x00,0x7C,0x3E,0x00,0x7C,0x3C,
        0x00,0x7C,0x3C,0x00,0x3C,0x3C,0x00,0x3C,0x3E,0x00,0x3C,0x3E,0x00,0x3C,0x3E,0x00,
        0x7C,0x1E,0x00,0x7C,0x1F,0x00,0x7C,0x0F,0x00,0x78,0x0F,0x80,0xF8,0x07,0xC1,0xF0,
        0x03,0xF7,0xE0,0x00,0xFF,0x80,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {  // 7
        0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0xFF,0xFC,0x0F,0xFF,0xFC,0x1F,0xFF,0xFC,0x1F,
        0x80,0x78,0x1E,0x00,0x70,0x1C,0x00,0xF0,0x1C,0x00,0xE0,0x1C,0x01,0xE0,0x00,0x01,
        0xC0,0x00,0x03,0xC0,0x00,0x03,0x80,0x00,0x07,0x80,0x00,0x07,0x00,0x00,0x0F,0x00,
        0x00,0x0E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,
        0x7C,0x00,0x00,0x7C,0x00,0x00,0x78,0x00,0x00,0x78,0x00,0x00,0xF8,0x00,0x00,0xF8,
        0x00,0x00,0xF8,0x00,0x00,0xF8,0x00,0x00,0xF8,0x00,0x00,0xF8,0x00,0x00,0xF8,0x00,
        0x00,0xF8,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {  // 8
        0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xC0,0x03,0xF7,0xE0,0x07,0x80,0xF0,0x0F,
        0x00,0xF8,0x1F,0x00,0x7C,0x1F,0x00,0x7C,0x1E,0x00,0x3C,0x1E,0x00,0x3C,0x1F,0x00,
        0x3C,0x1F,0x00,0x7C,0x1F,0x80,0x7C,0x0F,0xC0,0xF8,0x0F,0xF0,0xF0,0x07,0xFF,0xE0,
        0x01,0xFF,0xC0,0x01,0xFF,0xC0,0x07,0xFF,0xE0,0x0F,0x8F,0xF0,0x1F,0x03,0xF8,0x1F,
        0x01,0xF8,0x3E,0x00,0xFC,0x3E,0x00,0x7C,0x3E,0x00,0x7C,0x3C,0x00,0x3C,0x3C,0x00,
        0x3C,0x3C,0x00,0x3C,0x3E,0x00,0x7C,0x3E,0x00,0x7C,0x1F,0x00,0xF8,0x0F,0x80,0xF0,
        0x07,0xE7,0xE0,0x01,0xFF,0x80,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {  // 9
        0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x07,0xE7,0xC0,0x0F,0x81,0xE0,0x0F,
        0x00,0xF0,0x1E,0x00,0xF0,0x3E,0x00,0x78,0x3E,0x00,0x78,0x3E,0x00,0x7C,0x3C,0x00,
        0x3C,0x3C,0x00,0x3C,0x3C,0x00,0x3C,0x3C,0x00,0x3C,0x3E,0x00,0x7C,0x3E,0x00,0x7C,
        0x3E,0x00,0xFC,0x3F,0x01,0xFC,0x1F,0x83,0xFC,0x0F,0xEF,0xFC,0x07,0xFF,0xFC,0x03,
        0xFE,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x78,0x00,0x00,0x78,0x00,0x00,
        0xF8,0x00,0x00,0xF0,0x0F,0x80,0xF0,0x0F,0x81,0xE0,0x0F,0x83,0xC0,0x0F,0x87,0xC0,
        0x07,0xDF,0x00,0x03,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00
    },
};

// 24*40的数字
const BYTE Num24x40[10][120] = 
{
    {   // 0
        0x00,0x00,0x00,0x00,0xFF,0x00,0x03,0xFF,0xC0,0x07,0xFF,0xE0,0x0F,0xFF,0xE0,0x0F,
        0xF7,0xF0,0x1F,0xE7,0xF8,0x1F,0xE7,0xF8,0x3F,0xE7,0xFC,0x3F,0xE7,0xFC,0x3F,0xE7,
        0xFC,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,
        0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,
        0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,
        0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x3F,0xE7,0xFC,0x3F,0xE7,0xFC,0x3F,0xE7,0xFC,
        0x1F,0xE7,0xF8,0x1F,0xE7,0xF8,0x0F,0xE7,0xF0,0x0F,0xFF,0xE0,0x07,0xFF,0xE0,0x03,
        0xFF,0x80,0x00,0xFF,0x00,0x00,0x00,0x00
    },

    {   // 1
        0x00,0x00,0x00,0x00,0x07,0xC0,0x00,0x0F,0xC0,0x00,0x0F,0xC0,0x00,0x1F,0xC0,0x00,
        0x3F,0xC0,0x00,0x7F,0xC0,0x01,0xFF,0xC0,0x07,0xFF,0xC0,0x0F,0xFF,0xC0,0x0F,0xFF,
        0xC0,0x0F,0xFF,0xC0,0x00,0xFF,0xC0,0x00,0xFF,0xC0,0x00,0xFF,0xC0,0x00,0xFF,0xC0,
        0x00,0xFF,0xC0,0x00,0xFF,0xC0,0x00,0xFF,0xC0,0x00,0xFF,0xC0,0x00,0xFF,0xC0,0x00,
        0xFF,0xC0,0x00,0xFF,0xC0,0x00,0xFF,0xC0,0x00,0xFF,0xC0,0x00,0xFF,0xC0,0x00,0xFF,
        0xC0,0x00,0xFF,0xC0,0x00,0xFF,0xC0,0x00,0xFF,0xC0,0x00,0xFF,0xC0,0x00,0xFF,0xC0,
        0x00,0xFF,0xC0,0x00,0xFF,0xC0,0x00,0xFF,0xC0,0x01,0xFF,0xE0,0x03,0xFF,0xF0,0x03,
        0xFF,0xF0,0x03,0xFF,0xF0,0x00,0x00,0x00
    },

    {  // 2
        0x00,0x00,0x00,0x03,0xFF,0x80,0x0F,0xFF,0xE0,0x1F,0xFF,0xF0,0x3F,0xDF,0xF8,0x3F,
        0x8F,0xFC,0x7F,0x8F,0xFC,0x7F,0x8F,0xFE,0x7F,0x87,0xFE,0x7F,0x87,0xFE,0x7F,0x87,
        0xFE,0x7F,0x87,0xFE,0x7F,0x87,0xFE,0x3F,0x0F,0xFE,0x00,0x0F,0xFE,0x00,0x0F,0xFE,
        0x00,0x0F,0xFC,0x00,0x0F,0xFC,0x00,0x1F,0xF8,0x00,0x1F,0xF8,0x00,0x3F,0xF0,0x00,
        0x3F,0xE0,0x00,0x7F,0xC0,0x00,0xFF,0x80,0x01,0xFF,0x00,0x01,0xFC,0x00,0x03,0xF8,
        0x00,0x07,0xF0,0x00,0x0F,0xE0,0x1E,0x1F,0x80,0x1E,0x3F,0x00,0x3E,0x3E,0x00,0x3E,
        0x7F,0xFF,0xFE,0x7F,0xFF,0xFE,0x7F,0xFF,0xFC,0x7F,0xFF,0xFC,0x7F,0xFF,0xFC,0x7F,
        0xFF,0xFC,0x7F,0xFF,0xFC,0x00,0x00,0x00
    },

    {  // 3
        0x00,0x00,0x00,0x03,0xFF,0x80,0x0F,0xFF,0xC0,0x1F,0xFF,0xE0,0x3F,0xBF,0xF0,0x7F,
        0x1F,0xF8,0x7F,0x1F,0xFC,0x7F,0x1F,0xFC,0x7F,0x0F,0xFC,0x7F,0x0F,0xFC,0x7F,0x0F,
        0xFC,0x7F,0x0F,0xFC,0x3E,0x0F,0xFC,0x00,0x0F,0xFC,0x00,0x1F,0xF8,0x00,0x1F,0xF0,
        0x00,0x7F,0xE0,0x07,0xFF,0xC0,0x07,0xFF,0x00,0x07,0xFF,0xC0,0x00,0x7F,0xF0,0x00,
        0x1F,0xF8,0x00,0x0F,0xFC,0x00,0x0F,0xFC,0x00,0x0F,0xFE,0x00,0x0F,0xFE,0x00,0x0F,
        0xFE,0x3E,0x0F,0xFE,0x7F,0x07,0xFE,0x7F,0x07,0xFE,0x7F,0x07,0xFE,0x7F,0x07,0xFE,
        0x7F,0x07,0xFE,0x7F,0x0F,0xFC,0x7F,0x0F,0xF8,0x3F,0xFF,0xF8,0x1F,0xFF,0xF0,0x0F,
        0xFF,0xC0,0x03,0xFF,0x00,0x00,0x00,0x00
    },

    {  // 4
        0x00,0x00,0x00,0x00,0x01,0xF8,0x00,0x03,0xF8,0x00,0x03,0xF8,0x00,0x07,0xF8,0x00,
        0x07,0xF8,0x00,0x0F,0xF8,0x00,0x1F,0xF8,0x00,0x1F,0xF8,0x00,0x3F,0xF8,0x00,0x3F,
        0xF8,0x00,0x7F,0xF8,0x00,0xFF,0xF8,0x00,0xFF,0xF8,0x01,0xFF,0xF8,0x01,0xFF,0xF8,
        0x03,0xFF,0xF8,0x07,0xDF,0xF8,0x07,0xDF,0xF8,0x0F,0x9F,0xF8,0x0F,0x9F,0xF8,0x1F,
        0x1F,0xF8,0x3F,0x1F,0xF8,0x3E,0x1F,0xF8,0x7C,0x1F,0xF8,0x7C,0x1F,0xF8,0x7F,0xFF,
        0xFF,0x7F,0xFF,0xFF,0x7F,0xFF,0xFF,0x00,0x1F,0xF8,0x00,0x1F,0xF8,0x00,0x1F,0xF8,
        0x00,0x1F,0xF8,0x00,0x1F,0xF8,0x00,0x1F,0xFC,0x00,0x3F,0xFC,0x00,0x7F,0xFE,0x00,
        0x7F,0xFE,0x00,0x7F,0xFE,0x00,0x00,0x00
    },

    {  // 5
        0x00,0x00,0xF8,0x0F,0xFF,0xF8,0x0F,0xFF,0xF8,0x0F,0xFF,0xF8,0x0F,0xFF,0xF8,0x0F,
        0xFF,0xF0,0x0F,0xFF,0xF0,0x0F,0xFF,0xF0,0x0F,0x80,0x00,0x1F,0x80,0x00,0x1F,0x80,
        0x00,0x1F,0x80,0x00,0x1F,0x80,0x00,0x1F,0xFF,0x80,0x1F,0xFF,0xE0,0x1F,0xFF,0xF0,
        0x1F,0xFF,0xF8,0x1F,0xDF,0xF8,0x1F,0x0F,0xFC,0x1F,0x0F,0xFC,0x1E,0x0F,0xFE,0x00,
        0x0F,0xFE,0x00,0x07,0xFE,0x00,0x07,0xFE,0x00,0x07,0xFE,0x00,0x07,0xFE,0x00,0x07,
        0xFE,0x3E,0x07,0xFE,0x7F,0x07,0xFE,0x7F,0x07,0xFE,0x7F,0x07,0xFE,0x7F,0x07,0xFC,
        0x7F,0x07,0xFC,0x7F,0x0F,0xF8,0x7F,0x0F,0xF8,0x3F,0xBF,0xF0,0x1F,0xFF,0xE0,0x0F,
        0xFF,0xC0,0x07,0xFF,0x00,0x00,0x00,0x00
    },

    {  // 6
        0x00,0x00,0x00,0x00,0x1F,0xF0,0x00,0x7F,0xF0,0x01,0xFF,0xF0,0x03,0xFF,0x80,0x07,
        0xFE,0x00,0x0F,0xF8,0x00,0x0F,0xF0,0x00,0x1F,0xF0,0x00,0x1F,0xF0,0x00,0x3F,0xE0,
        0x00,0x3F,0xFF,0xC0,0x3F,0xFF,0xF0,0x7F,0xFF,0xF8,0x7F,0xFF,0xF8,0x7F,0xFF,0xFC,
        0x7F,0xF7,0xFC,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,
        0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,
        0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x3F,0xE7,0xFE,0x3F,0xE7,0xFC,
        0x3F,0xE7,0xFC,0x1F,0xE7,0xF8,0x1F,0xEF,0xF8,0x0F,0xFF,0xF0,0x07,0xFF,0xE0,0x03,
        0xFF,0xC0,0x01,0xFF,0x80,0x00,0x00,0x00
    },

    {  // 7
        0x00,0x00,0x00,0x7F,0xFF,0xFE,0x7F,0xFF,0xFE,0x7F,0xFF,0xFE,0x7F,0xFF,0xFE,0x7F,
        0xFF,0xFC,0x7F,0xFF,0xFC,0x7F,0xFF,0xF8,0x7E,0x01,0xF8,0x7C,0x01,0xF8,0x7C,0x03,
        0xF0,0x00,0x03,0xF0,0x00,0x07,0xF0,0x00,0x07,0xE0,0x00,0x0F,0xE0,0x00,0x0F,0xE0,
        0x00,0x1F,0xC0,0x00,0x1F,0xC0,0x00,0x3F,0xC0,0x00,0x3F,0xC0,0x00,0x3F,0x80,0x00,
        0x7F,0x80,0x00,0x7F,0x80,0x00,0x7F,0x80,0x00,0xFF,0x80,0x00,0xFF,0x80,0x00,0xFF,
        0x80,0x00,0xFF,0x00,0x01,0xFF,0x00,0x01,0xFF,0x00,0x01,0xFF,0x00,0x01,0xFF,0x00,
        0x01,0xFF,0x00,0x01,0xFF,0x00,0x01,0xFF,0x80,0x03,0xFF,0x80,0x07,0xFF,0xC0,0x07,
        0xFF,0xC0,0x07,0xFF,0xC0,0x00,0x00,0x00
    },

    {  // 8
        0x00,0x00,0x00,0x01,0xFF,0x80,0x07,0xFF,0xE0,0x0F,0xFF,0xF0,0x1F,0xF7,0xF8,0x1F,
        0xC1,0xF8,0x3F,0xC1,0xFC,0x3F,0x81,0xFC,0x3F,0x80,0xFC,0x3F,0xC0,0xFC,0x3F,0xC0,
        0xFC,0x3F,0xE1,0xFC,0x3F,0xF1,0xFC,0x3F,0xF9,0xF8,0x3F,0xFF,0xF8,0x1F,0xFF,0xF0,
        0x1F,0xFF,0xE0,0x0F,0xFF,0xE0,0x07,0xFF,0xF0,0x03,0xFF,0xF8,0x07,0xFF,0xF8,0x0F,
        0xFF,0xFC,0x1F,0xFF,0xFE,0x3F,0xBF,0xFE,0x3F,0x9F,0xFE,0x7F,0x87,0xFE,0x7F,0x03,
        0xFE,0x7F,0x03,0xFE,0x7F,0x01,0xFE,0x7F,0x01,0xFE,0x7F,0x00,0xFE,0x7F,0x80,0xFE,
        0x7F,0x81,0xFC,0x3F,0x81,0xFC,0x3F,0xC3,0xF8,0x1F,0xF7,0xF8,0x0F,0xFF,0xF0,0x07,
        0xFF,0xC0,0x01,0xFF,0x80,0x00,0x00,0x00
    },

    {  // 9
        0x00,0x00,0x00,0x01,0xFF,0x80,0x03,0xFF,0xC0,0x07,0xFF,0xE0,0x0F,0xFF,0xF0,0x1F,
        0xE7,0xF8,0x1F,0xE7,0xF8,0x3F,0xE7,0xFC,0x3F,0xE7,0xFC,0x3F,0xE7,0xFC,0x7F,0xE7,
        0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,
        0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,0xE7,0xFE,0x7F,
        0xE7,0xFE,0x7F,0xE7,0xFE,0x3F,0xEF,0xFE,0x3F,0xFF,0xFE,0x1F,0xFF,0xFE,0x1F,0xFF,
        0xFE,0x0F,0xFF,0xFC,0x07,0xF7,0xFC,0x00,0x07,0xFC,0x00,0x0F,0xF8,0x00,0x0F,0xF8,
        0x00,0x0F,0xF0,0x00,0x1F,0xF0,0x00,0x7F,0xE0,0x07,0xFF,0xC0,0x0F,0xFF,0x80,0x0F,
        0xFE,0x00,0x0F,0xF8,0x00,0x00,0x00,0x00
    },
};

#else
const BYTE Num24x40[10][120] = 
{
    {
        0x00,0x00,0x00,0x07,0xFF,0xC0,0x0F,0xFF,0xE0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,
        0xFF,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,
        0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,
        0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,
        0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,
        0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,
        0x1F,0x01,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x0F,0xFF,0xE0,0x07,
        0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {
        0x00,0x00,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,
        0x7C,0x00,0x00,0xFC,0x00,0x00,0xFC,0x00,0x00,0xFC,0x00,0x00,0xFC,0x00,0x01,0xFC,
        0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,
        0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,
        0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,
        0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,
        0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,
        0x7C,0x00,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {
        0x00,0x00,0x00,0x0F,0xFF,0xE0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,
        0xFF,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,
        0xF0,0x1F,0x01,0xF0,0x00,0x01,0xF0,0x00,0x03,0xF0,0x00,0x03,0xF0,0x00,0x07,0xE0,
        0x00,0x0F,0xE0,0x00,0x0F,0xC0,0x00,0x1F,0xC0,0x00,0x1F,0x80,0x00,0x3F,0x80,0x00,
        0x3F,0x00,0x00,0x7F,0x00,0x00,0x7E,0x00,0x00,0xFE,0x00,0x00,0xFC,0x00,0x01,0xF8,
        0x00,0x03,0xF8,0x00,0x03,0xF0,0x00,0x07,0xF0,0x00,0x07,0xE0,0x00,0x0F,0xE0,0x00,
        0x0F,0xC0,0x00,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,
        0xFF,0xF0,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {
        0x00,0x00,0x00,0x07,0xFF,0xC0,0x0F,0xFF,0xE0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,
        0xFF,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,
        0xF0,0x1F,0x01,0xF0,0x00,0x01,0xF0,0x00,0x01,0xF0,0x00,0x03,0xE0,0x00,0x0F,0xC0,
        0x00,0x1F,0x80,0x00,0x7F,0x00,0x00,0xFE,0x00,0x00,0x7F,0x00,0x00,0x1F,0x80,0x00,
        0x0F,0xE0,0x00,0x03,0xE0,0x00,0x01,0xF0,0x00,0x01,0xF0,0x00,0x01,0xF0,0x1F,0x01,
        0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,
        0x1F,0x01,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x0F,0xFF,0xE0,0x07,
        0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {
        0x00,0x00,0x00,0x00,0x3E,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x7C,0x00,0x00,
        0x78,0x00,0x00,0xF8,0x00,0x00,0xF8,0x00,0x00,0xF0,0x00,0x01,0xF0,0x00,0x01,0xF0,
        0x00,0x01,0xE0,0x00,0x03,0xE0,0x00,0x03,0xE0,0x00,0x03,0xC0,0x00,0x07,0xC7,0xC0,
        0x07,0xC7,0xC0,0x07,0x87,0xC0,0x0F,0x87,0xC0,0x0F,0x87,0xC0,0x0F,0x07,0xC0,0x1F,
        0x07,0xC0,0x1F,0x07,0xC0,0x1E,0x07,0xC0,0x3E,0x07,0xC0,0x3C,0x07,0xC0,0x3F,0xFF,
        0xF8,0x3F,0xFF,0xF8,0x3F,0xFF,0xF8,0x3F,0xFF,0xF8,0x3F,0xFF,0xF8,0x00,0x07,0xC0,
        0x00,0x07,0xC0,0x00,0x07,0xC0,0x00,0x07,0xC0,0x00,0x07,0xC0,0x00,0x07,0xC0,0x00,
        0x07,0xC0,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {
        0x00,0x00,0x00,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,
        0xFF,0xF0,0x1F,0x00,0x00,0x1F,0x00,0x00,0x1F,0x00,0x00,0x1F,0x00,0x00,0x1F,0x00,
        0x00,0x1F,0x00,0x00,0x1F,0x00,0x00,0x1F,0x00,0x00,0x1F,0xFF,0xC0,0x1F,0xFF,0xE0,
        0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x00,0x01,0xF0,0x00,0x01,0xF0,0x00,
        0x01,0xF0,0x00,0x01,0xF0,0x00,0x01,0xF0,0x00,0x01,0xF0,0x00,0x01,0xF0,0x1F,0x01,
        0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,
        0x1F,0x01,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x0F,0xFF,0xE0,0x07,
        0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {
        0x00,0x00,0x00,0x07,0xFF,0xC0,0x0F,0xFF,0xE0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,
        0xFF,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,
        0xF0,0x1F,0x00,0x00,0x1F,0x00,0x00,0x1F,0x00,0x00,0x1F,0x00,0x00,0x1F,0x00,0x00,
        0x1F,0xFF,0xC0,0x1F,0xFF,0xE0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,
        0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,
        0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,
        0x1F,0x01,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x0F,0xFF,0xE0,0x07,
        0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {
        0x00,0x00,0x00,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,
        0xFF,0xE0,0x1F,0x01,0xE0,0x1F,0x01,0xE0,0x1F,0x01,0xE0,0x1F,0x03,0xE0,0x1F,0x03,
        0xC0,0x00,0x03,0xC0,0x00,0x03,0xC0,0x00,0x07,0xC0,0x00,0x07,0x80,0x00,0x07,0x80,
        0x00,0x07,0x80,0x00,0x0F,0x80,0x00,0x0F,0x00,0x00,0x0F,0x00,0x00,0x0F,0x00,0x00,
        0x1F,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x3E,0x00,0x00,0x3C,
        0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x78,0x00,
        0x00,0x78,0x00,0x00,0xF8,0x00,0x00,0xF8,0x00,0x00,0xF0,0x00,0x00,0xF0,0x00,0x01,
        0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {
        0x00,0x00,0x00,0x07,0xFF,0xC0,0x0F,0xFF,0xE0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,
        0xFF,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,
        0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x0F,0x83,0xE0,
        0x07,0xEF,0xE0,0x03,0xFF,0x80,0x01,0xFF,0x00,0x03,0xFF,0x80,0x07,0xFF,0xC0,0x0F,
        0xC7,0xE0,0x0F,0x01,0xE0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,
        0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,
        0x1F,0x01,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x0F,0xFF,0xE0,0x07,
        0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0x00
    },

    {
        0x00,0x00,0x00,0x07,0xFF,0xC0,0x0F,0xFF,0xE0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,
        0xFF,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,
        0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,
        0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x0F,
        0xFF,0xF0,0x07,0xFF,0xF0,0x00,0x01,0xF0,0x00,0x01,0xF0,0x00,0x01,0xF0,0x00,0x01,
        0xF0,0x00,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,0x1F,0x01,0xF0,
        0x1F,0x01,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x1F,0xFF,0xF0,0x0F,0xFF,0xE0,0x07,
        0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0x00
    },

};
#endif


const char *Ascll9x16Str = "CPSBqcmuvhGy/2";


const BYTE Ascll9x16[][32] =
{
    /*--  文字:  C  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=9x16   --*/
    /*--  宽度不是8的倍数，现调整为：宽度x高度=16x16  --*/
    {0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x00,0x63,0x00,0x63,0x00,0xC0,0x00,0xC0,0x00,
    0xC0,0x00,0xC0,0x00,0xC0,0x00,0x63,0x00,0x66,0x00,0x3C,0x00,0x00,0x00,0x00,0x00},
    
    /*--  文字:  P  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=9x16   --*/
    /*--  宽度不是8的倍数，现调整为：宽度x高度=16x16  --*/
    {0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0x00,0x63,0x00,0x63,0x00,0x63,0x00,0x63,0x00,
    0x7E,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0xF0,0x00,0x00,0x00,0x00,0x00},
    
    /*--  文字:  S  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=9x16   --*/
    /*--  宽度不是8的倍数，现调整为：宽度x高度=16x16  --*/
    {0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x00,0x63,0x00,0x63,0x00,0x60,0x00,0x30,0x00,
    0x1C,0x00,0x06,0x00,0x03,0x00,0x63,0x00,0x63,0x00,0x7E,0x00,0x00,0x00,0x00,0x00},
    
    /*--  文字:  B  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=9x16   --*/
    /*--  宽度不是8的倍数，现调整为：宽度x高度=16x16  --*/
    {0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0x00,0x66,0x00,0x66,0x00,0x66,0x00,0x7C,0x00,
    0x66,0x00,0x63,0x00,0x63,0x00,0x63,0x00,0x66,0x00,0xFC,0x00,0x00,0x00,0x00,0x00},
    
    /*--  文字:  q  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=9x16   --*/
    /*--  宽度不是8的倍数，现调整为：宽度x高度=16x16  --*/
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x00,
    0x33,0x00,0x63,0x00,0x63,0x00,0x63,0x00,0x33,0x00,0x1F,0x00,0x03,0x00,0x07,0x80},
    
    /*--  文字:  c  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=9x16   --*/
    /*--  宽度不是8的倍数，现调整为：宽度x高度=16x16  --*/
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1E,0x00,
    0x33,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x33,0x00,0x1E,0x00,0x00,0x00,0x00,0x00},
    
    /*--  文字:  m  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=9x16   --*/
    /*--  宽度不是8的倍数，现调整为：宽度x高度=16x16  --*/
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,
    0x6D,0x80,0x6D,0x80,0x6D,0x80,0x6D,0x80,0x6D,0x80,0xFF,0x80,0x00,0x00,0x00,0x00},
    
    /*--  文字:  u  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=9x16   --*/
    /*--  宽度不是8的倍数，现调整为：宽度x高度=16x16  --*/
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE7,0x00,
    0x63,0x00,0x63,0x00,0x63,0x00,0x63,0x00,0x67,0x00,0x3F,0x80,0x00,0x00,0x00,0x00},
    
    /*--  文字:  v  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=9x16   --*/
    /*--  宽度不是8的倍数，现调整为：宽度x高度=16x16  --*/
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF7,0x80,
    0x63,0x00,0x36,0x00,0x36,0x00,0x3C,0x00,0x18,0x00,0x18,0x00,0x00,0x00,0x00,0x00},
    
    /*--  文字:  h  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=9x16   --*/
    /*--  宽度不是8的倍数，现调整为：宽度x高度=16x16  --*/
    {0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x7E,0x00,
    0x73,0x00,0x63,0x00,0x63,0x00,0x63,0x00,0x63,0x00,0xF7,0x80,0x00,0x00,0x00,0x00},

    /*--  文字:  G  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=9x16   --*/
    /*--  宽度不是8的倍数，现调整为：宽度x高度=16x16  --*/
    {0x00,0x00,0x00,0x00,0x00,0x00,0x3E,0x00,0x66,0x00,0x66,0x00,0xC0,0x00,0xC0,0x00,
    0xC0,0x00,0xCF,0x00,0xC6,0x00,0x66,0x00,0x66,0x00,0x3C,0x00,0x00,0x00,0x00,0x00},

    /*--  文字:  y  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=9x16   --*/
    /*--  宽度不是8的倍数，现调整为：宽度x高度=16x16  --*/
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF7,0x80,
    0x63,0x00,0x36,0x00,0x36,0x00,0x1C,0x00,0x1C,0x00,0x18,0x00,0x18,0x00,0x70,0x00},
    
    /*--  文字:  /  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=9x16   --*/
    /*--  宽度不是8的倍数，现调整为：宽度x高度=16x16  --*/
    {0x00,0x00,0x00,0x00,0x01,0x80,0x03,0x00,0x03,0x00,0x06,0x00,0x06,0x00,0x0C,0x00,
    0x0C,0x00,0x18,0x00,0x18,0x00,0x30,0x00,0x30,0x00,0x60,0x00,0x60,0x00,0x00,0x00},
    
    // 2 -- 平方
    {0x00,0x00,0x00,0x00,0xF8,0x00,0xD8,0x00,0x18,0x00,0x30,0x00,0x60,0x00,0xC0,0x00,
    0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}
    
};

/*设置OLED的A  IO*/
//P7.4
#define Oled_DC(x)  \
	    if (x) P7OUT |= (x<<4); \
        else P7OUT &= ~(1<<4);


/*设置OLED的CS# IO口*/
// P7.7  --> P5.3
#ifdef TIMERB_DOSE
#define Oled_CS(x) \
	    if (x) P5OUT |= (x<<3); \
        else P5OUT &= ~(1<<3);
#else
#define Oled_CS(x) \
	    if (x) P7OUT |= (x<<7); \
        else P7OUT &= ~(1<<7);
#endif
	    
/*设置OLED的R/W# IO口*/
//P7.5
#define Oled_WR(x) \
	    if (x) P7OUT |= (x<<5); \
        else P7OUT &= ~(1<<5);


/*设置OLED的RD IO口*/
//P5.7
#define Oled_RD(x)  \
	    if (x) P5OUT |= (x<<7); \
        else P5OUT &= ~(1<<7);


/*设置OLED的数据线对应IO口*/
//P6.2 -- BIT7
//P6.3 -- BIT6
//P6.4 -- BIT5
//P6.5 -- BIT4
//P6.6 -- BIT3
//P6.7 -- BIT2
//P7.0 -- BIT1
//P7.1 -- BIT0
#define Oled_DATA(x) \
    {  \
        if (x&0x01) P7OUT |= (1<<1); \
        else P7OUT &= ~(1<<1);        \
        if (x&0x02) P7OUT |= (1<<0); \
        else P7OUT &= ~(1<<0);        \
        if (x&0x04) P6OUT |= (1<<7); \
        else P6OUT &= ~(1<<7);        \
        if (x&0x08) P6OUT |= (1<<6); \
        else P6OUT &= ~(1<<6);        \
        if (x&0x10) P6OUT |= (1<<5); \
        else P6OUT &= ~(1<<5);        \
        if (x&0x20) P6OUT |= (1<<4); \
        else P6OUT &= ~(1<<4);        \
        if (x&0x40) P6OUT |= (1<<3); \
        else P6OUT &= ~(1<<3);        \
        if (x&0x80) P6OUT |= (1<<2); \
        else P6OUT &= ~(1<<2);        \
    }

#if 0
	    do\
	    	{\
            P6OUT &=0xF0;\
            P7OUT &=0xF0;\
            P6OUT |=((x&0x01)<<3)+((x&0x02)<<1) +((x&0x04)>>1) + ((x&0x08)>>3);\
            P7OUT |=((x&0x10)>>1)+((x&0x20)>>3)+((x&0x40)>>5)+((x&0x80)>>7);\
	}while(0)
#endif


void _nop_(void)
{
    ;
}

#if 0
void display(unsigned char dat1,unsigned char dat2,unsigned char dat3,unsigned char dat4)
{
    unsigned char page,col;
    for (page=0xb0;page<0xc0;page++)//*******16page*****//
    {
        Write_CMD(page);
        Write_CMD(0x10);
        Write_CMD(0x00);
        for(col=0;col<128;col++) //128*4=512
        {
            Write_Data(dat1);
            Write_Data(dat2);
            Write_Data(dat3);
            Write_Data(dat4);
        }
    }
    delay_ms(2000);
}
#endif


#define LCDM_wcmd Write_CMD
#define LCDM_wdata Write_Data

#if 0
void display_gray(void)
{

    unsigned char i,j;

    for(i=0;i<0x4;i++)//*******16page*****//
    {
        LCDM_wcmd(0xb0+i);
        LCDM_wcmd(0x10);
        LCDM_wcmd(0x00);
        for(j=0;j<128;j++) //128*4=512
        {LCDM_wdata(0x00);LCDM_wdata(0x00);}
    }

    for(;i<8;i++)//*******16page*****//
    {
        LCDM_wcmd(0xb0+i);
        LCDM_wcmd(0x10);
        LCDM_wcmd(0x00);
        for(j=0;j<128;j++) //128*4=512
        {LCDM_wdata(0x00);LCDM_wdata(0xff);}
    }

    for(;i<12;i++)//*******16page*****//
    {
        LCDM_wcmd(0xb0+i);
        LCDM_wcmd(0x10);
        LCDM_wcmd(0x00);
        for(j=0;j<128;j++) //128*4=512
        {LCDM_wdata(0xff);LCDM_wdata(0x00);}
    }

    for(;i<16;i++)//*******16page*****//
    {
        LCDM_wcmd(0xb0+i);
        LCDM_wcmd(0x10);
        LCDM_wcmd(0x00);
        for(j=0;j<128;j++) //128*4=512
        {LCDM_wdata(0xff);LCDM_wdata(0xff);}
    }





}
#endif

void Oled_Init()
{
    // delay_ms(3000);
    
    //P5DIR |= BIT7;
    //P6DIR |= BIT0+BIT1+BIT2+BIT3;
    //P7DIR |= BIT0+BIT1+BIT2+BIT3+BIT4+BIT5+BIT6+BIT7;

    P7DIR |= BIT0 + BIT1;  // LCD_D1  LCD_D0
    P6DIR |= BIT7 + BIT6 + BIT5 + BIT4 + BIT3 + BIT2;  // LCD_D2---7

    // LED_BACK
    //P6DIR |= BIT1;
    //P6OUT |= BIT1;   // open back light
    
    // LCD_CS
    //P7DIR |= BIT6;
    #ifdef TIMERB_DOSE
    P5DIR |= BIT3;
    #else
    P7DIR |= BIT7;
    #endif
    
    //LCD_WR
    P7DIR |= BIT5;

    //LCD_A
    P7DIR |= BIT4;

    P7OUT |= BIT4 | BIT5 | BIT6;

    //LCD_RD
    P5DIR |= BIT7; 
    P5OUT |= BIT7;
	
    // Oled_RST();    --- don't soft reset
    
    Oled_InitReg();

    //display_pic();
    //display_gray();
    //display_image1();
	//display(0xff,0xff,0xff,0xff);
    //display(0xff,0xff,0xff,0xff);
    //display(0xaa,0xaa,0xaa,0xaa);
    //delay(100);
    //display(0x00,0x00,0x00,0x00);

    //display(0xff,0xff,0xff,0xff);
}

/*****************************************
函数名: Oled_RST()
函数功能:复位OLED
输入:无
输出:无
作者:毕成军
日期:2014/5/24

******************************************/

void Oled_RST()
{
	Oled_RD(1);
	P7DIR |= BIT4;
	P7OUT &=~ BIT4;
	delay_ms(500);
	P7OUT |= BIT4;
}

/*****************************************
函数名: Write_CMD(unsigned char cmd)
函数功能:并口方式写命令
输入:cmd 命令码
输出:无
作者:毕成军
日期:2014/5/24

******************************************/
void Write_CMD(unsigned char cmd)
{
    Oled_CS(0);
    Oled_DC(0);
    //_nop_();
    Oled_WR(0);
    	

    Oled_DATA(cmd);
    //_nop_();
    //_nop_();

    
    Oled_WR(1);
    Oled_CS(1);
    //Oled_DC(1);
	
}

/*****************************************
函数名: Write_Data(unsigned char data)
函数功能:并口方式写数据
输入:待写入的数据data
输出:无
作者:毕成军
日期:2014/5/24
******************************************/
void Write_Data(unsigned char data)
{
    Oled_CS(0);
	Oled_DC(1);
    _nop_();
    Oled_WR(0);
		

	Oled_DATA(data);
    _nop_();
    //_nop_();
    
    
	Oled_WR(1);
    Oled_CS(1);
	//Oled_DC(1);
	
}


#if 0
//-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
//  Instruction Setting,    OLED BASIC fuction
//-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
/*****************************************
函数名: Set_Col_Address(unsigned char start_col, unsigned char end_col)
函数功能:设置要显示列地址的开始和结束地址
输入:start_col  开始列地址
            end_col   结束列地址
输出:无
作者:毕成军
日期:2014/5/24

******************************************/

void Set_Col_Address(unsigned char start_col, unsigned char end_col)
{
	Write_CMD(0x15);			// Set Column Address
	Write_CMD(start_col);			//   Default => 0x00
	Write_CMD(end_col);			//   Default => 0x3F (Total Columns Devided by 2)
}

/*****************************************
函数名:Set_Contrast_Current(unsigned char Current)
函数功能:设置OLED的显示驱动电流值，即需要的亮度
输入:Current 电流值，可选范围为0x00~0x7F,默认值为0x40            
输出:无
作者:毕成军
日期:2014/5/24

******************************************/

void Set_Contrast_Current(unsigned char Current)
{
	Write_CMD(0x81);			// Set Row Address
	Write_CMD(Current);
}

/*****************************************
函数名:Set_Current_Range(unsigned char Range)
函数功能:设置OLED的显示驱动电流范围
输入:Range 电流值范围，0:1/4亮度,1:1/2亮度,2:全亮，默认值为0
输出:无
作者:毕成军
日期:2014/5/24

******************************************/

void Set_Current_Range(unsigned char Range)
{
	Write_CMD(0x84 | Range);// Set Current Range
						//   Default => 0x84
						//     0x84 (0x00) => Quarter Current Range
						//     0x85 (0x01) => Half Current Range
						//     0x86 (0x02) => Full Current Range
}


/*****************************************
函数名:Set_Remap_Format(unsigned char data)
函数功能:设置OLED的显示格式，
输入:data的各位控制功能
            bit0=0:  left to right      bit0=1   right to left              bit0 is col address remap format
            bit1=0: D7~D0---D7~D0     bit2=1:D7~D0---D3~D0+D7~D4           bit1 is nibble remap
            bit2=0: 按列方向先递增，再进入下一行  bit2=1:行先递增，再进入下一列
            bit4=0: scan from up to down   bit4=1: scan from bottom to up            bit4 is scan direction bit
            bit6=0: 不分奇偶行列对应关系   bit6=1:分奇偶行列对应关系

            bit3,bit5,bit7  is not used ,must set to 0;
输出:无
作者:毕成军
日期:2014/5/24

******************************************/
void Set_Remap_Format(unsigned char data)
{
	Write_CMD(0xA0);			// Set Re-Map & Data Format
	Write_CMD(data);			//   Default => 0x00
						//  bit0:   Column Address 0 Mapped to SEG0
						//  bit1:   Disable Nibble Re-Map
						//  bit2:   Horizontal Address Increment
						//  bit4:   Scan from COM0 to COM[N-1]
						//  bit6:   Disable COM Split Odd Even
}

/*****************************************
函数名:Set_Start_Line(unsigned char line)
函数功能:设置OLED的显示开始行地址
输入:line为行地址，范围0~0x3F
输出:无
作者:毕成军
日期:2014/5/24

******************************************/

void Set_Start_Line(unsigned char line)
{
	Write_CMD(0xA1);			// Set Display Start Line
	Write_CMD(line);			//   Default => 0x00
}

/*****************************************
函数名:Set_Display_Offset(unsigned char data)
函数功能:设置OLED的显示相对开始行的偏移量
输入:data为偏移量，范围0~0x3F
输出:无
作者:毕成军
日期:2014/5/24

******************************************/
void Set_Display_Offset(unsigned char data)
{
	Write_CMD(0xA2);			// Set Display Offset
	Write_CMD(data);			//   Default => 0x00
}

/*****************************************
函数名:Set_Display_Mode(unsigned char mode)
函数功能:设置OLED的显示模式
输入:mode模式，范围为0x00,0x01,0x02,0x03
输出:无
作者:毕成军
日期:2014/5/24

******************************************/
void Set_Display_Mode(unsigned char mode)
{
	Write_CMD(0xA4|mode);			// Set Display Mode
						//   Default => 0xA4
						//     0xA4 (0x00) => Normal Display
						//     0xA5 (0x01) => Entire Display On, All Pixels Turn On at GS Level 15
						//     0xA6 (0x02) => Entire Display Off, All Pixels Turn Off
						//     0xA7 (0x03) => Inverse Display
}


/*****************************************
函数名:Set_Multiplex_Ratio(unsigned char ratio)
函数功能:设置OLED的显示比例
输入:ratio为比例，范围0x0F~0x4F,对应比例为16MUX~80MUX
输出:无
作者:毕成军
日期:2014/5/24

******************************************/
void Set_Multiplex_Ratio(unsigned char ratio)
{
	Write_CMD(0xA8);			// Set Multiplex Ratio
	Write_CMD(ratio);			//   Default => 0x4F
}

/*****************************************
函数名:Set_Master_Config(unsigned char data)
函数功能:设置OLED供电方式
输入:data为方式，reset以后A0必须设为0
	     只使用bit0,该函数用处不大
输出:无
作者:毕成军
日期:2014/5/24

******************************************/


void Set_Master_Config(unsigned char data)
{
	Write_CMD(0xAD);			// Set Master Configuration
	Write_CMD(0x02|data);			//   Default => 0x03
						//     0x02 (0x00) => Select External VCC Supply
						//     0x03 (0x01) => Select Internal DC/DC Voltage Converter
}


/*****************************************
函数名:Set_Display_On_Off(unsigned char data)
函数功能:设置OLED显示的开/关
输入:data为为开关,0x00为关闭显示,0x01开启显示
	     
输出:无
作者:毕成军
日期:2014/5/24

******************************************/


void Set_Display_On_Off(unsigned char data)
{
	Write_CMD(0xAE|data);			// Set Display On/Off
						//   Default => 0xAE
						//     0xAE (0x00) => Display Off
						//     0xAF (0x01) => Display On
}

void Set_Display_Clock(unsigned char data)
{
	Write_CMD(0xB3);			// Display Clock Divider/Osciallator Frequency
	Write_CMD(data);			//   Default => 0x41
						//     D[3:0] => Display Clock Divider
						//     D[7:4] => Oscillator Frequency
}


void Set_VCOMH(unsigned char d)
{
	Write_CMD(0xBE);			// Set Output Level High Voltage for COM Signal
	Write_CMD(d);			//   Default => 0x1D (0.81*VREF)
}


void Set_VSL(unsigned char d)
{
	Write_CMD(0xBF);			// Set Segment Low Voltage Level
	Write_CMD(0x02|d);			//   Default => 0x0E
						//     0x02 (0x00) => Keep VSL Pin Floating
						//     0x0E (0x0C) => Connect a Capacitor between VSL Pin & VSS
}


void Set_NOP()
{
	Write_CMD(0xE3);			// Command for No Operation
}


//-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
//  Show Regular Pattern (Full Screen)
//
//    a: Two Pixels Data
//-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
void Fill_RAM(unsigned char a)
{
	GA_Option(0x01);
	Draw_Rectangle(0x00,0x3F,0x00,0x3F,a);
}

//=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
//  Graphic Acceleration
//=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
void GA_Option(unsigned char d)
{
	Write_CMD(0x23);			// Graphic Acceleration Command Options
	Write_CMD(d);			//   Default => 0x01
						//     Enable Fill Rectangle
						//     Disable Wrap around in Horizontal Direction During Copying & Scrolling
						//     Disable Reverse Copy
}
#endif

void Oled_InitReg()
{
#if 0
	Set_Display_On_Off(0x00);		// Display Off (0x00/0x01)
 	Set_Display_Clock(0x91);		// Set Clock as 135 Frames/Sec   
	Set_Multiplex_Ratio(0x3F);		// 1/64 Duty (0x0F~0x5F)
	Set_Display_Offset(0x4C);		// Shift Mapping RAM Counter (0x00~0x5F)     
	Set_Start_Line(0x00);			// Set Mapping RAM Display Start Line (0x00~0x5F) 
	Set_Remap_Format(0x50);			// Set Column Address 0 Mapped to SEG0
                     
	Set_Master_Config(0x00);		// Disable Embedded DC/DC Converter (0x00/0x01)
	Set_Contrast_Current(Brightness);	// Set Scale Factor of Segment Output Current Control
	Set_Current_Range(0x02);		// Set Full Current Range	
        Set_VCOMH(0x02);			// Set High Voltage Level of COM Pin
        Set_VSL(0x0E);				// Set Low Voltage Level of SEG Pin
        Set_Display_Mode(0x00);			// Normal Display Mode (0x00/0x01/0x02/0x03)	
	Fill_RAM(0x00);				// Clear Screen
	   
       delay_ms(200);      
						  
       Set_Display_On_Off(0x01);		// Display Off (0x00/0x01)
#else
    Write_CMD(0xe2); //reset
    delay_us(600);
    Write_CMD(0xab); // OSC. start
    delay_us(600) ;
    Write_CMD(0xae); //Display off
    Write_CMD(0xc8); //pgy 0xC0 0xC8 //Common output mode set
    Write_CMD(0x40); //Display start line address
    Write_CMD(0); //S0~S6
    Write_CMD(0x44); //Display start line address
    Write_CMD(0); //C0~C6
    Write_CMD(0xb0); //Page 0 address
    Write_CMD(0x10); //Column address high bits
    Write_CMD(0x00); //Column address low bits
    Write_CMD(0xa0); //pgy 0xA0 0xA1//ADC select ,com0 ~ com63/53/47/31
    Write_CMD(0xa6); //Display normal/reverse set
    Write_CMD(0x56); //Bias select 1/11 bias
    Write_CMD(0xa3); //Static Icon on
    Write_CMD(0x26); //V0 Voltage regulator resistor ratio
    Write_CMD(0x81); //Set EV
    Write_CMD(0x20); //EC=30d(1Eh)
    Write_CMD(0x67); //6x boost
    delay_us(6000);
    Write_CMD(0x48); //Set partial display duty
    Write_CMD(128); //1/128
    Write_CMD(0x4c); //Set N-line inversion
    Write_CMD(0x00); //
    // ****** Gray control ***********
    //3frc12pwm
    Write_CMD(0x96); // Set mode at12 PWM and 3FRC
    Write_CMD(0x88);
    Write_CMD(0x00);
    Write_CMD(0x89);
    Write_CMD(0x00);
    Write_CMD(0x8a);
    Write_CMD(0x44);//
    Write_CMD(0x8b);
    Write_CMD(0x44);//
    Write_CMD(0x8c);
    Write_CMD(0x88);
    Write_CMD(0x8d);
    Write_CMD(0x88);
    Write_CMD(0x8e);
    Write_CMD(0xcc);
    Write_CMD(0x8f);
    Write_CMD(0xcc);
    Write_CMD(0x2f); //All power on,power configuration
    delay_us(6000);
    Write_CMD(0xaf); //Display on

#endif
}


void Draw_Rectangle(unsigned char a, unsigned char b, unsigned char c, unsigned char d, unsigned char e)
{
	Write_CMD(0x24);			// Draw Rectangle
	Write_CMD(a);			//   Column Address of Start
	Write_CMD(c);			//   Row Address of Start
	Write_CMD(b);			//   Column Address of End (Total Columns Devided by 2)
	Write_CMD(d);			//   Row Address of End
	Write_CMD(e);			//   Gray Scale Level
	delay_ms(20);
}

void ShowSpecChar(unsigned char row, unsigned char col,char *Data_Pointer,char Reverse,int len)
{
    #if 0
    char *Src_Pointer;
	Src_Pointer=Data_Pointer;
    unsigned char EnterCode[8] = {0};
    int index = 0;
    while(1)
    {   
        memcpy(EnterCode,&Ascii_3[*Src_Pointer][0],8);
        Diplay(row+(index*6),col,8,8,EnterCode,Reverse);
        index++;
        Src_Pointer++;
   		if(index == len)
        {   
            break;
        }
    }
    #else
    //char *Src_Pointer;
	//Src_Pointer=Data_Pointer;
    //unsigned char EnterCode[8] = {0};
    int index = 0;
    while(1)
    {   
        //memcpy(EnterCode,&Ascii_3[*Src_Pointer][0],8);
        Diplay(row+(index*6),col,8,8,&Ascii_3[*Data_Pointer][0],Reverse);
        index++;
        Data_Pointer++;
   		if(index == len)
        {   
            break;
        }
    }

    #endif
    //DisplayRefresh();
}

void ShowLine(BYTE Row)
{
    const BYTE Line[] = {0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF};
    Diplay(0,Row,128,1,Line,0);
}


void Show16X24int(unsigned char row, unsigned char col,unsigned long data,char Reverse)
{
    
    memset(StrTemp,0,24);
    sprintf(StrTemp,"%lu",data);

    
    
    int index = 0;
    int value = 0;
    int inrow = row-16;
    while(1)
    {   
        value = StrTemp[index++];
        if(value == 0)
        {   
            break;
        }
        else
        {
          value -= 48;
          inrow+=16;
        }
        
        //memcpy(EnterCode,&Ascii_4[value][0],48);
        Diplay(inrow,col,16,24,&Ascii_4[value][0],Reverse);
        //memset(EnterCode,0,48);
    }
    //DisplayRefresh();
}

// pc : 小数点位数
BYTE Show16X24float( unsigned char row, unsigned char col,float Data, BYTE pc)
{
    memset(StrTemp,0,24);

    if (pc == 0)   // 自动调整小数位数
    {
        if (Data > 9999.9)
        {
            sprintf(StrTemp,"%.0f",Data);
        }
        else if (Data > 999.99)
        {
            sprintf(StrTemp,"%.1f",Data);
        }
        else
        {
            sprintf(StrTemp,"%.2f",Data);
        }
    }
    else
    {
        sprintf(StrTemp,"%.1f",Data);
    }

    
    
    int index = 0;
    int value = 0;
    int inrow = row-16;
    
    const unsigned char dot[]={
        0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x3C,
    	0x3C,0x18,0x00,0x00,0x00,0x00,0x00,0x00
    };
    
    while(1)
    {   
        value = StrTemp[index++];
        if(value == 0)
        {   
            break;
        }
        if(value == 46)
        {
            // 小数点
            value = 10;
            inrow+=16;
            Diplay(inrow,col,8,24,dot,0);
            inrow-=8;
            continue;
        }
        else
        {
            value -= 48;
            inrow+=16;
        }
        
        //memcpy(EnterCode,&Ascii_4[value][0],48);
        Diplay(inrow,col,16,24,&Ascii_4[value][0],0);
        //memset(EnterCode,0,48);
    }
    //DisplayRefresh();

    return inrow+16;
}

#if 0
//左对齐
BYTE Show24X36Int( unsigned char row, unsigned char col, DWORD Data)
{
    memset(StrTemp,0,24);

    if (Data > 99999)
    {
        sprintf(StrTemp,"%ld",99999);
    }
    else
    {
        sprintf(StrTemp,"%ld",Data);
    }
    
    int index = 0;
    int value = 0;
    int inrow = row-24;
    
    const unsigned char dot[]={
        0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x3C,
    	0x3C,0x18,0x00,0x00,0x00,0x00,0x00,0x00
    };
    
    while(1)
    {   
        value = StrTemp[index++];
        if(value == 0)
        {   
            break;
        }
        
        if(value == 46)
        {
            // 小数点
            value = 10;
            inrow+=24;
            Diplay(inrow,col+12,8,24,dot,0);
            inrow-=16;
            continue;
        }
        else
        {
            value -= 48;
            inrow+=24;
        }
        
        
        Diplay(inrow,col,24,40,&Num24x40[value][0],0);
        
    }

    return inrow+24;
}
#else
// 右对齐
BYTE Show24X36Int( unsigned char row, unsigned char col, DWORD Data)
{
    const unsigned char dot[]={
        0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x3C,
    	0x3C,0x18,0x00,0x00,0x00,0x00,0x00,0x00
    };

    
    int index = 0;
    int value = 0;
    int inrow = 128;
    
    memset(StrTemp,0,24);

    if (Data > 99999)
    {
        sprintf(StrTemp,"%ld",99999);
    }
    else
    {
        sprintf(StrTemp,"%ld",Data);
    }
    
    
    index = strlen(StrTemp);
    
    while(index--)
    {   
        value = StrTemp[index];
        
        
        if(value == 46)
        {
            // 小数点
            inrow-=8;
            
            Diplay(inrow,col+12,8,24,dot,0);
            
        }
        else
        {
            value -= 48;
            inrow-=24;
            Diplay(inrow,col,24,40,&Num24x40[value][0],0);
        }
        
        
    }

    return inrow;
}

#endif

#if 0
// 左对齐
BYTE Show24X36float( unsigned char row, unsigned char col,float Data)
{
    const unsigned char dot[]={
        0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x3C,
    	0x3C,0x18,0x00,0x00,0x00,0x00,0x00,0x00
    };

    int index = 0;
    int value = 0;
    int inrow = row-24;
    
    
    memset(StrTemp,0,24);

    if (Data > 9999.9)
    {
        sprintf(StrTemp,"%.0f",Data);
    }
    else if (Data > 999.99)
    {
        sprintf(StrTemp,"%.1f",Data);
    }
    else
    {
        sprintf(StrTemp,"%.2f",Data);
    }

    
    
    while(1)
    {   
        value = StrTemp[index++];
        if(value == 0)
        {   
            break;
        }
        
        if(value == 46)
        {
            // 小数点
            value = 10;
            inrow+=24;
            Diplay(inrow,col+12,8,24,dot,0);
            inrow-=16;
            continue;
        }
        else
        {
            value -= 48;
            inrow+=24;
        }
        
        
        Diplay(inrow,col,24,40,&Num24x40[value][0],0);
        
    }

    return inrow+24;
}
#else

// 右对齐pc: 0 自动，>0 指定保留小数的位数
BYTE Show24X36float( unsigned char row, unsigned char col,float Data,BYTE pc)
{
    const unsigned char dot[]={
        0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x3C,
    	0x3C,0x18,0x00,0x00,0x00,0x00,0x00,0x00
    };

    int index = 0;
    int value = 0;
    int inrow = 128;
    //BYTE len;
    
    memset(StrTemp,0,24);

    if (pc == 0)
    {
        if (Data > 9999.9)
        {
            sprintf(StrTemp,"%.0f",Data);
        }
        else if (Data > 999.99)
        {
            sprintf(StrTemp,"%.1f",Data);
        }
        else
        {
            sprintf(StrTemp,"%.2f",Data);
        }
    }
    else if (pc == 1)
    {
        sprintf(StrTemp,"%.1f",Data);
    }
    else
    {
        sprintf(StrTemp,"%.2f",Data);
    }

    
    index = strlen(StrTemp);

    
    while(index--)
    {   
        value = StrTemp[index];
        
        
        if(value == 46)
        {
            // 小数点
            inrow-=8;
            Diplay(inrow,col+12,8,24,dot,0);
        }
        else
        {
            value -= 48;
            inrow-=24;
            Diplay(inrow,col,24,40,&Num24x40[value][0],0);
        }
        
    }

    return inrow;
}

#endif

#if 0
void Oled_Test(char x)
{
    //GT_Show5X7Ascii(0,0,"abcdefg1234$%^&",0);
    GT_Show12X12Char(0,13,"修改成功",1);
    //char test[4] = "";
    //sprintf(test,"%d",sizeof(arrRadioLib));
    //GT_Show5X7Ascii(0,0,test,0);
    DisplayRefresh();

    const unsigned char test[] = {
        0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x00,0x30,0xC0,0x60,0x40,0x40,0x60,0x60,0x60,
        0x31,0xE0,0x1F,0x60,0x00,0x60,0x60,0x40,0x20,0xC0,0x1F,0x80,0x00,0x00,0x00,0x00
    };

    Diplay(0,30,16,16,test,0);

    DisplayRefresh();

    
}
#endif


void Clear_DispBuf()
{
    memset((void *)DispBuf, 0, sizeof(DispBuf));
}


#if 0
void Clear(int x, int y, int w, int h)
{
    unsigned int iRow, iCol;
    unsigned char *pRowBuf;
    unsigned int  iEndRow, iEndCol;
    unsigned int  iPixel = 0, iDot;
    
    iEndRow = y + h;
    iEndCol = x + w;
    iDot = 0;
 
   
    iPixel = 0;
    for(iRow = y; iRow < iEndRow; iRow++)
    {
        pRowBuf = (unsigned char *)DispBuf + iRow * 16;
        
        for(iCol = x; iCol < iEndCol; iCol++)
        {
            pRowBuf[iCol / 8] &= ~((0x1u) << (iCol % 8));
            if (iPixel >= 8)
            {
                iPixel = 0;
                iDot++;

            }
        }
    }  
}
#else
void Clear(int x, int y, int w, int h)
{
    unsigned int iRow, iCol;
    unsigned int  iEndRow, iEndCol;
    
    iEndRow = y + h;
    iEndCol = x + w;
    
    for(iRow = y; iRow < iEndRow; iRow++)
    {
        for(iCol = x; iCol < iEndCol; iCol++)
        {
            DispBuf[iCol][iRow/8] &= ~((0x1u) << (iRow % 8));
        }
    }  
}


#endif


#if 0
void Diplay(int x, int y, int w, int h, const unsigned char *InDotBuf,int Reverse)
{
    unsigned int iRow, iCol;
    unsigned char *pRowBuf;
    unsigned int  iEndRow, iEndCol;
    unsigned int  iPixel = 0, iDot;
    unsigned char byDot;
    
    iEndRow = y + h;
    iEndCol = x + w;
    iDot = 0;
    byDot = InDotBuf[iDot];
    if(Reverse == 1)
    {
        byDot ^= 0xFF;
    }
    iPixel = 0;
    for(iRow = y; iRow < iEndRow; iRow++)
    {
        pRowBuf = (unsigned char *)DispBuf + iRow * 16;
        
        for(iCol = x; iCol < iEndCol; iCol++)
        {
            pRowBuf[iCol / 8] |= (byDot & (0x80u >> iPixel++ ) ? 1 : 0) << (iCol % 8);
            if (iPixel >= 8)
            {
                iPixel = 0;
                iDot++;
                byDot = InDotBuf[iDot];
                if(Reverse == 1)
                {
                    byDot ^= 0xFF;
                }
            }
        }
    }
}
#else
void Diplay(int x, int y, int w, int h, const unsigned char *InDotBuf,int Reverse)
{
    unsigned int iRow, iCol;
    unsigned int  iEndRow, iEndCol;
    unsigned int  iPixel = 0, iDot;
    unsigned char byDot;

    iPixel = 0;
    
    iEndRow = y + h;
    iEndCol = x + w;
    iDot = 0;
    byDot = InDotBuf[iDot];
    if(Reverse == 1)
    {
        byDot ^= 0xFF;
    }
    iPixel = 0;
    for(iRow = y; iRow < iEndRow; iRow++)
    {
        SystemTask();
        for(iCol = x; iCol < iEndCol; iCol++)
        {
            //pRowBuf[iCol / 8] |= (byDot & (0x80u >> iPixel++ ) ? 1 : 0) << (iCol % 8);
            DispBuf[iCol][iRow/8] |= (byDot & (0x80u >> iPixel++ ) ? 1 : 0) << (iRow % 8);
            if (iPixel >= 8)
            {
                iPixel = 0;
                iDot++;
                byDot = InDotBuf[iDot];
                if(Reverse == 1)
                {
                    byDot ^= 0xFF;
                }
            }
        }
    }
    
    
}
#endif


#if 0
void DisplayRefresh()
{
    _DINT();
    unsigned char byDot, *pDotBufRow, byWriteDot;
    int iRow, iCol;
    int iPixel,iDot;
    Write_CMD(0xA0);
    Write_CMD(0x50);

    
    Write_CMD(0x15);  // set column addr
    Write_CMD(0);
    Write_CMD(63);     // 1 column = 2 pixel
    
    Write_CMD(0x75);
    Write_CMD(0);
    Write_CMD(63);

    iPixel = 0;
    for(iRow = 0; iRow < 64; iRow++)
    {
        pDotBufRow = (unsigned char *)DispBuf + iRow * 16; // go to next row dotbuf
        iDot   = 0;
        iPixel = 0;
        byDot  = pDotBufRow[iDot];
        for( iCol = 0; iCol < 64; iCol++)
        {

            byWriteDot = 0;
            if (byDot & (0x1 << iPixel++))
            {
                byWriteDot = 0xf;
            }

            if (byDot & (0x1 << iPixel++))
            {
                byWriteDot |= (0xf << 4);
            }             
            Write_Data(byWriteDot);
           
            if (iPixel >= 8)
            {
                iPixel = 0;
                iDot++;
                byDot = pDotBufRow[iDot];
            }
        }
    }
    _EINT();
}    
#else


void DisplayRefresh()
{
    //_DINT();
    unsigned char e;
    unsigned char page,col;
    
    for (page=0;page<16;page++)
    {
        // 刷屏时间较长，系统任务不能停
        Write_CMD(0xB0+page);
        Write_CMD(0x10);     
        Write_CMD(0x00);         
        for(col=0;col<128;col++) 
        {
            SystemTask();
            #if 0
            e = 0;            
            for (k=page*8;k<page*8+8;k++)
            {
                e |= (( (DispBuf[127-k][col/8] >> (col%8)) & 1 ) << (k%8));
            }
            #endif
            e = DispBuf[col][page];
            Write_Data(e);
            Write_Data(e);
        }
    }
    //_EINT();
}

#endif




//使用字库芯片 显示ascii码
// 实际站位6*8
void GT_Show5X7Ascii(unsigned char row, unsigned char col,char *Data_Pointer,char Reverse)
{
    int len;
    char *Src_Pointer;
    int index;

    len = strlen((char *)Data_Pointer);
    Src_Pointer=Data_Pointer;
    index = 0;
    
    while(index != len)
    {
        memset(DZ_Data,0,32);
        ASCII_GetData(*Src_Pointer,0x3bfc0);
        Diplay(row+(index*6),col,8,8,DZ_Data,Reverse);
        Clear(row+(index*6)+6,col,2,8);
        index++;
        Src_Pointer++;
        //Data_Pointer++;
    }
    //DisplayRefresh();
}


//使用字库芯片 显示ascii码
// 实际站位8*8
void GT_Show7X8Ascii(unsigned char row, unsigned char col,char *Data_Pointer,char Reverse)
{
    int len; 
    int index = 0;
    char *Src_Pointer;

    len = strlen((char *)Data_Pointer);
    Src_Pointer=Data_Pointer;
    index= 0;

    
    
    while(index != len)
    {
        memset(DZ_Data,0,32);
        ASCII_GetData(*Src_Pointer,0x66c0);
        Diplay(row+(index*8),col,8,8,DZ_Data,Reverse);
        //Clear(row+(index*6)+6,col,2,8);
        index++;
        Src_Pointer++;
        //Data_Pointer++;
    }
    //DisplayRefresh();
}


//使用字库芯片 显示ascii码
// 实际站位6*12
void GT_Show6X12Ascii(unsigned char row, unsigned char col,char *Data_Pointer,char Reverse)
{
    int len; 
    int index = 0;
    char *Src_Pointer;

    len = strlen((char *)Data_Pointer);
    Src_Pointer=Data_Pointer;
    index= 0;
    
    while(index != len)
    {
        memset(DZ_Data,0,32);
        ASCII_GetData(*Src_Pointer,0x66d40);
        Diplay(row+(index*6),col,8,12,DZ_Data,Reverse);
        Clear(row+(index*6)+6,col,2,12);
        index++;
        Src_Pointer++;
        //Data_Pointer++;
    }
    //DisplayRefresh();
}

void GT_Show8X16Ascii(unsigned char row, unsigned char col,char *Data_Pointer,char Reverse)
{
    int len; 
    int index = 0;
    char *Src_Pointer;

    len = strlen((char *)Data_Pointer);
    Src_Pointer=Data_Pointer;
    index= 0;
    
    while(index != len)
    {
        memset(DZ_Data,0,32);
        ASCII_GetData(*Src_Pointer,0x3b7c0);
        Diplay(row+(index*8),col,8,16,DZ_Data,Reverse);
        index++;
        Src_Pointer++;
    }
    //DisplayRefresh();
}



void Show5X7Int(unsigned char row, unsigned char col,unsigned int Data,char Reverse)
{
    //char EnterCode[10] = {0};
   
    memset(StrTemp,0,24);
    sprintf(StrTemp,"%u",Data);
    GT_Show5X7Ascii(row,col,StrTemp,Reverse);
}

void Show5X7Float(unsigned char row, unsigned char col,float Data,char Reverse)
{
    //char EnterCode[10] = {0};

    memset(StrTemp,0,24);
    sprintf(StrTemp,"%0.2f",Data);
    GT_Show5X7Ascii(row,col,StrTemp,Reverse);

}

void Show7X8Int(unsigned char row, unsigned char col,unsigned int Data,char Reverse)
{
    //char EnterCode[10] = {0};
   
    memset(StrTemp,0,24);
    sprintf(StrTemp,"%u",Data);
    GT_Show7X8Ascii(row,col,StrTemp,Reverse);
}

void Show7X8Float(unsigned char row, unsigned char col,float Data,char Reverse)
{
    //char EnterCode[10] = {0};

    memset(StrTemp,0,24);
    sprintf(StrTemp,"%0.2f",Data);
    GT_Show7X8Ascii(row,col,StrTemp,Reverse);

}

void Show6X12Int(unsigned char row, unsigned char col,unsigned int Data,char Reverse)
{
    //char EnterCode[10] = {0};
   
    memset(StrTemp,0,24);
    sprintf(StrTemp,"%u",Data);
    GT_Show6X12Ascii(row,col,StrTemp,Reverse);
}

BYTE Show6X12Float(unsigned char row, unsigned char col,float Data,char Reverse)
{
    //char EnterCode[10] = {0};

    memset(StrTemp,0,24);
    sprintf(StrTemp,"%0.2f",Data);
    GT_Show6X12Ascii(row,col,StrTemp,Reverse);
    
    return row+strlen(StrTemp)*6;
}



//用字库芯片显示汉字
void GT_Show12X12Char(unsigned char row, unsigned char col,unsigned char *srcCode,char Reverse)
{
    int len;
    unsigned char code[2];
    unsigned char index = 0;

    len = strlen((char *)srcCode);
    code[0] = 0;
    code[1] = 0;
    index = 0;
        
    while(index < len/2)
    {
        code[0] = *srcCode++;
        code[1] = *srcCode++;
        memset(DZ_Data,0,32);
        gt_12_GetData(code[0],code[1]);
        Diplay((13*index+row),col,16,12,DZ_Data,Reverse);
        Clear(13*index+row+13,col,3,12);
        index++;
    }
}


// 显示混合字符串以及特殊字符(阿尔法A、贝塔B、伽马Y)
void Show12X12String(unsigned char row, unsigned char col,char *srcCode,char Reverse)
{
    int len;
    char src[3] = {0};
    BYTE i,loc;

    len = strlen(srcCode);
    loc = row;
    for (i=0;i<len;i++)
    {
        memset(src,0,3);
        
        if ((BYTE)srcCode[i] > 0x80)  // 中文
        {
            
            memcpy(src,&srcCode[i],2);
            GT_Show12X12Char(loc,col,(BYTE *)src,Reverse);
            loc += 13;
            i++;
        }
        else if (srcCode[i] == '@')
        {
            i++;
            switch (srcCode[i])
            {
                case 'A':  src[0] = 0;   ShowSpecChar(loc,col+3,src,Reverse,1);    break;
                case 'B':  src[0] = 1;   ShowSpecChar(loc,col+3,src,Reverse,1);    break;
                case 'Y':  src[0] = 2;   ShowSpecChar(loc,col+3,src,Reverse,1);    break;
                case '@':  src[0] = '@'; GT_Show5X7Ascii(loc,col,src,Reverse);     break;
                
            }
            
            loc += 6;
        }
        else
        {
            memcpy(src,&srcCode[i],1);
            GT_Show5X7Ascii(loc,col+3,src,Reverse);
            loc += 6;
        }
    }
}


void Show5X7String(unsigned char row, unsigned char col,char *srcCode,char Reverse)
{
    int len;
    char src[3] = {0};
    BYTE i,loc;
    
    len = strlen(srcCode);
    loc = row;
    for (i=0;i<len;i++)
    {
        memset(src,0,3);
        
        if ((BYTE)srcCode[i] > 0x80)  // 没有这么小的中文字库
        {
            //memcpy(src,&srcCode[i],2);
            //GT_Show12X12Char(loc,col,(BYTE *)src,Reverse);
            //loc += 13;
            i++;
        }
        else if (srcCode[i] == '@')
        {
            i++;
            switch (srcCode[i])
            {
                case 'A':  src[0] = 0;   ShowSpecChar(loc,col,src,Reverse,1);    break;
                case 'B':  src[0] = 1;   ShowSpecChar(loc,col,src,Reverse,1);    break;
                case 'Y':  src[0] = 2;   ShowSpecChar(loc,col,src,Reverse,1);    break;
                case '2':  src[0] = 3;   ShowSpecChar(loc,col,src,Reverse,1);    break;
                case '@':  src[0] = '@'; GT_Show5X7Ascii(loc,col,src,Reverse);  break;
                
            }
            
            loc += 6;
        }
        else
        {
            
            memcpy(src,&srcCode[i],1);
            GT_Show5X7Ascii(loc,col,src,Reverse);
            loc += 6;
        }
    }
}


void Show8X16String(unsigned char row, unsigned char col,char *srcCode,char Reverse)
{
    int len;
    char src[3] = {0};
    BYTE i,loc;
    
    len = strlen(srcCode);
    loc = row;
    for (i=0;i<len;i++)
    {
        memset(src,0,3);
        
        if ((BYTE)srcCode[i] > 0x80)  // 没有这么小的中文字库
        {
            //memcpy(src,&srcCode[i],2);
            //GT_Show12X12Char(loc,col,(BYTE *)src,Reverse);
            //loc += 13;
            i++;
        }
        else if (srcCode[i] == '@')
        {
            i++;
            switch (srcCode[i])
            {
                case 'A':  src[0] = 0;   ShowSpecChar(loc,col,src,Reverse,1);    break;
                case 'B':  src[0] = 1;   ShowSpecChar(loc,col,src,Reverse,1);    break;
                case 'Y':  src[0] = 2;   ShowSpecChar(loc,col,src,Reverse,1);    break;
                case '2':  src[0] = 3;   ShowSpecChar(loc,col,src,Reverse,1);    break;
                case '@':  src[0] = '@'; GT_Show6X12Ascii(loc,col,src,Reverse);  break;
                
            }
            
            loc += 6;
        }
        else
        {
            
            memcpy(src,&srcCode[i],1);
            GT_Show8X16Ascii(loc,col,src,Reverse);
            loc += 8;
        }
    }
}

BYTE GetIndex(char ch)
{
    BYTE i,len;
    len = strlen(Ascll9x16Str);
    for (i=0;i<len;i++)
    {
        if (Ascll9x16Str[i] == ch)
        {
            return i;
        }
    }

    return 0;
}


// 9*16
void ShowUnit(unsigned char row, unsigned char col,char *srcCode,char Reverse)
{
    BYTE i,j,d;
    BYTE len = strlen(srcCode);

    d = 0;
    for (i=0;i<len;i++)
    {
        if (srcCode[i] != '@')
        {
            j = GetIndex(srcCode[i]);
            Diplay(row+(d++)*9,col,16,16,&Ascll9x16[j][0],Reverse);
        }
    }
}


void GT_Show16X16Char(unsigned char row, unsigned char col,unsigned char *srcCode,char Reverse)
{
    int len;
    unsigned char code[2] = "0";
    unsigned char index = 0;

    len = strlen((char *)srcCode);
    index = 0;
        
    while(index < len/2)
    {
        code[0] = *srcCode++;
        code[1] = *srcCode++;
        memset(DZ_Data,0,32);
        gt_16_GetData(code[0],code[1]);

        Diplay((16*index+row),col,16,16,DZ_Data,Reverse);
        //Clear(16*index+row+16,col,3,12);
        index++;
    }
}




#if 0
//false g
void ControlKeyInter(char isopen)
{
    if(isopen == 1)
    {
        P1IE |= (BIT0 + BIT2 + BIT3 + BIT4 + BIT5);
    }
    else
    {
        delay_ms(50);
        P1IE &= ~(BIT0 + BIT2 + BIT3 + BIT4 + BIT5);
    }
}


/*

函数名称:Set_Oled_Dir_IN()
函数功能:设置OLED的数据端口为输入
输入:无
输出:无
作者:毕成军
日期:2015.8.26

*/

void Set_Oled_Dir_IN()
{
  //P6DIR &= ~(BIT0+BIT1+BIT2+BIT3);
  //P7DIR &= ~(BIT0+BIT1+BIT2+BIT3);
}

/*

函数名称:Set_Oled_Dir_OUT()
函数功能:设置OLED的数据端口为输出
输入:无
输出:无
作者:毕成军
日期:2015.8.26

*/


void Set_Oled_Dir_OUT()
{
  //P6DIR |= (BIT0+BIT1+BIT2+BIT3);
  //P7DIR |= (BIT0+BIT1+BIT2+BIT3);
}




/*

函数名称:Read_Oled_RamData()
函数功能:读取OLED ram数据同写入值进行比较
输入:无
输出:1:读取成功，0:读取失败
作者:毕成军
日期:2015.8.26

*/

unsigned char Read_Oled_RamData()
{
 volatile unsigned char dramdata=0;

  Set_Oled_Dir_IN();
  delay_us(2);
  Oled_CS(0);
  Oled_RD(0);
  Oled_DC(1);  	  
  Oled_WR(1);
  
  Oled_RD(1);  //启动一次dummy read
  Oled_RD(0);
  
  Oled_RD(1);
  dramdata = (((P6IN&0x01)<<3) + ((P6IN&0x02)<<1) + ((P6IN&0x04)>>1) + ((P6IN&0x08)>>3) + ((P7IN&0x01)<<7) + ((P7IN &0x02)<<5) + ((P7IN &0x04)<<3) + ((P7IN &0x08)<<1));
   
  Oled_CS(1);
  Oled_WR(1);
  Oled_DC(1);
  Oled_RD(1);
  Set_Oled_Dir_OUT();
if(dramdata==0x55)//读回来后如果和写入的0x55 一致则认为液晶屏在位
	return 1;
else
	return 0;
}

/*

函数名称:Self_Check_Oled()
函数功能:自检OLED是否存在
输入:无
输出:1:存在，0:不存在
作者:毕成军
日期:2015.8.26

*/

unsigned char Self_Check_Oled()
{
  int i;
  //Oled_Init();
  
  Write_CMD(0x15);  // set column addr
  Write_CMD(0);
  Write_CMD(63);     // 1 column = 2 pixel
    
  Write_CMD(0x75);
  Write_CMD(0);
  Write_CMD(63);
  
  for(i=0;i<4096;i++)
    Write_Data(0x55);//向缓冲区写入
    
  Write_CMD(0x15);  // set column addr
  Write_CMD(12);
  Write_CMD(63);     // 1 column = 2 pixel
    
  Write_CMD(0x75);
  Write_CMD(12);
  Write_CMD(63);
 
  if(Read_Oled_RamData()==1)
  	return 1;
  else
  	return 0;

}

#endif

